<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CrewAI 数据分析</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 侧边栏 -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h1 class="logo">CrewAI</h1>
            <button class="new-chat-btn" id="newChatBtn" title="开始新的对话（Ctrl+N）">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
                新对话
            </button>
            <div class="conversation-info" id="conversationInfo" style="margin-top: 10px; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 6px; font-size: 0.85rem; color: rgba(255,255,255,0.6); display: none;">
                <div>当前对话: <span id="messageCount">0</span> 条消息</div>
            </div>
        </div>
        
        <nav class="nav-menu">
            <a href="index.html" class="nav-item active">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                </svg>
                对话
            </a>
            <a href="history.html" class="nav-item">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
                历史记录
            </a>
        </nav>
    </aside>

    <!-- 主内容区 -->
    <main class="main-content">
        <!-- 对话区域 -->
        <div class="chat-container" id="chatContainer">
            <!-- 欢迎页面 -->
            <div class="welcome-screen" id="welcomeScreen">
                <div class="welcome-content">
                    <h2 class="welcome-title">CrewAI 数据分析系统</h2>
                    <p class="welcome-subtitle">基于多 Agent 协作的智能数据分析</p>
                    
                    <div class="example-cards">
                        <div class="example-card" data-question="哪个国家的客户消费最多？">
                            <div class="example-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                    <circle cx="12" cy="10" r="3"></circle>
                                </svg>
                            </div>
                            <p>哪个国家的客户消费最多？</p>
                        </div>
                        
                        <div class="example-card" data-question="收入最高的艺人TOP10？">
                            <div class="example-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                                </svg>
                            </div>
                            <p>收入最高的艺人TOP10？</p>
                        </div>
                        
                        <div class="example-card" data-question="最受欢迎的音乐流派是什么？">
                            <div class="example-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9 18V5l12-2v13"></path>
                                    <circle cx="6" cy="18" r="3"></circle>
                                    <circle cx="18" cy="16" r="3"></circle>
                                </svg>
                            </div>
                            <p>最受欢迎的音乐流派是什么？</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 对话消息列表 -->
            <div class="messages-container" id="messagesContainer"></div>
        </div>

        <!-- 输入区域 -->
        <div class="input-area">
            <div class="input-wrapper">
                <textarea 
                    id="messageInput" 
                    placeholder="向 CrewAI 提问..."
                    rows="1"
                ></textarea>
                <button class="send-btn" id="sendBtn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="22" y1="2" x2="11" y2="13"></line>
                        <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                    </svg>
                </button>
            </div>
            <p class="input-hint">按 Enter 发送，Shift + Enter 换行</p>
        </div>
    </main>

    <script src="app.js"></script>
</body>
</html>
